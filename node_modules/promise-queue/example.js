'use strict';

const PromiseQueue = require('./lib/promise-queue');

const pq = new PromiseQueue();
pq
	.add(() => {
		return new Promise((resolve, reject) => {
			console.log('EXECUTE PROMISE')
			setTimeout(() => {
				console.log('timeout expired')
				return reject('expired')
			}, 2000);
		});
	})
	.then(result => {
		console.log('after timeout result')
	})
	.catch(err => {
		console.error('after timeout error')
	})